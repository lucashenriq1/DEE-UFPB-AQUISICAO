(this.webpackJsonpaquisicao=this.webpackJsonpaquisicao||[]).push([[0],{111:function(e,t){},117:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(48),r=a.n(s),i=(a(58),a(3)),o=a(2),l=a(49),j=a(51),b=(a(117),a(50)),d=a.n(b),u=a(1);function h(e){var t=[{name:"xx",data:e.data}];return Object(u.jsx)("div",{id:"chart",children:Object(u.jsx)(d.a,{options:{chart:{height:350,type:"line",zoom:{enabled:!0}},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},colors:["#210124"],fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!0,gradientToColors:["#DB162F"],opacityFrom:1,opacityTo:1,type:"vertical",stops:[0,30]}}},series:t,type:"line",height:350})})}var O=function(){var e=[{value:"aq1",label:"Tiva 1"},{value:"aq2",label:"Tiva 2"},{value:"aq3",label:"Tiva 3"},{value:"aq4",label:"Tiva 4"},{value:"aq5",label:"Tiva 5"}],t=Object(c.useState)(null),a=Object(o.a)(t,2),s=a[0],r=a[1],b=Object(c.useState)([0,0,0,0,0,0]),d=Object(o.a)(b,2),O=d[0],m=d[1],p=Object(c.useState)([0,0,0,0,0,0]),v=Object(o.a)(p,2),f=v[0],x=v[1],g=Object(c.useState)(95),S=Object(o.a)(g,2),T=S[0],q=S[1],y=Object(c.useState)([0,0,0,0,0,0]),C=Object(o.a)(y,2),N=(C[0],C[1],Object(c.useState)([0,0,0,0,0,0])),F=Object(o.a)(N,2),k=(F[0],F[1],Object(c.useState)("mqtt/ufpb-aq1/temp")),B=Object(o.a)(k,2),w=B[0],M=B[1],I=Object(c.useState)(null),J=Object(o.a)(I,2),L=J[0],U=J[1],D=null!=L?"green":"red",P=T<=90?"red":"green";return new Date,n.a.useEffect((function(){var e=setInterval((function(){var e=Object(l.connect)("wss://broker.emqx.io:8084/mqtt");e.on("connect",(function(){console.log("Connected to MQTT broker "+w),e.subscribe(w,{qos:1})})),e.on("message",(function(e,t){var a=JSON.parse(t.toString());U(t.toString()),q(parseFloat(a.Bateria));var c=Math.floor(a.Temperatura);m((function(e){return e.length>=20&&e.shift(),[].concat(Object(i.a)(e),[c])}));var n=Math.floor(a.Umidade);x((function(e){return e.length>=20&&e.shift(),[].concat(Object(i.a)(e),[n])}))}))}),1e3);return function(){clearInterval(e)}}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("h1",{children:"UFPB"})}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsxs)("div",{className:"menus",children:[Object(u.jsx)("div",{className:"MensagemRecebida",style:{backgroundColor:D},children:Object(u.jsx)("h3",{children:"Mensagem"})}),Object(u.jsxs)("div",{className:"node-wrapper",children:[Object(u.jsx)("label",{htmlFor:"nodes",children:"Node:"}),Object(u.jsx)(j.a,{options:e,onChange:function(e){r(e);var t="mqtt/ufpb-"+e.value+"/temp";console.log("=---------------"),console.log(w),M(t),console.log(w),console.log("=---------------")},defaultValue:e[0]}),s&&Object(u.jsxs)("p",{children:["Topic: ","mqtt/ufpb-"+s.value+"/temp"]}),Object(u.jsx)("p",{children:"QoS1"}),Object(u.jsx)("p",{children:'JSON example: \'{"Bateria":90, "Temperatura":42, "Umidade":60}\''})]}),Object(u.jsx)("div",{className:"battery",style:{backgroundColor:P},children:Object(u.jsxs)("h3",{children:["Battery: ",T,"%"]})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){m([0,0,0,0,0,0]),x([0,0,0,0,0,0]),U(null),console.clear()},children:"Limpar"})})]}),Object(u.jsxs)("div",{className:"data",children:[Object(u.jsxs)("h2",{children:[" \xa0  \xa0  ",w.toString()," "]}),Object(u.jsx)("h3",{children:"      \xa0\xa0\xa0QoS1"}),Object(u.jsx)("h3",{children:"   \xa0 Temperatura (\xb0C)"}),Object(u.jsx)(h,{data:O,title:"Temperatura"}),Object(u.jsx)("h3",{children:"  \xa0 Umidade (%)"}),Object(u.jsx)(h,{data:f,title:"Humidade"})]})]})]})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,135)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(O,{})})),m()},44:function(e,t){},58:function(e,t,a){},64:function(e,t){},66:function(e,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.246178e3.chunk.js.map