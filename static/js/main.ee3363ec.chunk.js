(this.webpackJsonpaquisicao=this.webpackJsonpaquisicao||[]).push([[0],{111:function(e,t){},117:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(48),i=a.n(s),r=(a(58),a(3)),l=a(2),o=a(49),j=a(51),b=(a(117),a(50)),d=a.n(b),u=a(1);function h(e){var t=[{name:"xx",data:e.data}];return Object(u.jsx)("div",{id:"chart",children:Object(u.jsx)(d.a,{options:{chart:{height:350,type:"line",zoom:{enabled:!0}},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},colors:["#210124"],fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!0,gradientToColors:["#DB162F"],opacityFrom:1,opacityTo:1,type:"vertical",stops:[0,30]}}},series:t,type:"line",height:350})})}var O=function(){var e=[{value:"aq1",label:"Tiva 1"},{value:"aq2",label:"Tiva 2"},{value:"aq3",label:"Tiva 3"},{value:"aq4",label:"Tiva 4"},{value:"aq5",label:"Tiva 5"}],t=Object(c.useState)(null),a=Object(l.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)([0,0,0,0,0,0]),b=Object(l.a)(i,2),d=b[0],O=b[1],m=Object(c.useState)([0,0,0,0,0,0]),p=Object(l.a)(m,2),v=p[0],x=p[1],f=Object(c.useState)(95),g=Object(l.a)(f,2),S=g[0],T=g[1],q=Object(c.useState)([0,0,0,0,0,0]),y=Object(l.a)(q,2),C=(y[0],y[1],Object(c.useState)([0,0,0,0,0,0])),N=Object(l.a)(C,2),F=(N[0],N[1],Object(c.useState)("mqtt/ufpb-aq1/temp")),k=Object(l.a)(F,2),B=k[0],w=k[1],M=Object(c.useState)(0),J=Object(l.a)(M,2),L=(J[0],J[1],Object(c.useState)(null)),U=Object(l.a)(L,2),D=U[0],I=U[1],P=null!=D?"green":"red",Q=S<=90?"red":"green",A=(new Date,Object(o.connect)("wss://broker.emqx.io:8084/mqtt"));return A.on("connect",(function(){console.log("Connected to MQTT broker "+B),A.subscribe(B,{qos:1})})),A.on("message",(function(e,t){var a=JSON.parse(t.toString());I(t.toString()),T(parseFloat(a.Bateria));var c=Math.floor(a.Temperatura);O((function(e){return e.length>=20&&e.shift(),[].concat(Object(r.a)(e),[c])}));var n=Math.floor(a.Umidade);x((function(e){return e.length>=20&&e.shift(),[].concat(Object(r.a)(e),[n])}))})),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("h1",{children:"UFPB"})}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsxs)("div",{className:"menus",children:[Object(u.jsx)("div",{className:"MensagemRecebida",style:{backgroundColor:P},children:Object(u.jsx)("h3",{children:"Mensagem"})}),Object(u.jsxs)("div",{className:"node-wrapper",children:[Object(u.jsx)("label",{htmlFor:"nodes",children:"Node:"}),Object(u.jsx)(j.a,{id:"select",options:e,onChange:function(e){s(e);var t="mqtt/ufpb-"+e.value+"/temp";w(t)},defaultValue:e[0]}),n&&Object(u.jsxs)("p",{children:["Topic: ","mqtt/ufpb-"+n.value+"/temp"]}),Object(u.jsx)("p",{children:"QoS1"}),Object(u.jsx)("p",{children:'JSON example: \'{"Bateria":90, "Temperatura":42, "Umidade":60}\''})]}),Object(u.jsx)("div",{className:"battery",style:{backgroundColor:Q},children:Object(u.jsxs)("h3",{children:["Battery: ",S,"%"]})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){O([0,0,0,0,0,0]),x([0,0,0,0,0,0]),I(null),console.clear()},children:"Limpar"})})]}),Object(u.jsxs)("div",{className:"data",children:[Object(u.jsxs)("h2",{children:[" \xa0  \xa0  ",B.toString()," "]}),Object(u.jsx)("h3",{children:"      \xa0\xa0\xa0QoS1"}),Object(u.jsx)("h3",{children:"   \xa0 Temperatura (\xb0C)"}),Object(u.jsx)(h,{data:d,title:"Temperatura"}),Object(u.jsx)("h3",{children:"  \xa0 Umidade (%)"}),Object(u.jsx)(h,{data:v,title:"Humidade"})]})]})]})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,135)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(O,{})})),m()},44:function(e,t){},58:function(e,t,a){},64:function(e,t){},66:function(e,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.ee3363ec.chunk.js.map